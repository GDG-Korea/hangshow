<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="HangShow">
    <meta name="author" content="gdg-devteam@googlegroups.com">
    <link rel="shortcut icon" href="../../assets/ico/favicon.png">

    <title>HangShow</title>

    <!-- // <script src="//plus.google.com/hangouts/_/api/v1/hangout.js"></script> -->l
    <!-- // <script src="//plus.google.com/hangouts/_/api/v1/rpc.js"></script> -->

    <!-- // <script src="//talkgadget.google.com/hangouts/_/api/hangout.js?v=1.1"></script> -->
	<!-- // <script src="//www.google.com/jsapi"></script> -->
    <script src="//hangoutsapi.talkgadget.google.com/talkgadget/apps/gadgets/js/rpc.js"></script>
<!-- 	// <script src="//hangoutsapi.talkgadget.google.com/hangouts/api/hangout.js?v=1.4"></script> -->
	<script src="//plus.google.com/hangouts/_/api/v1/hangout.js"></script>	
	
	<!-- // <script src="http://code.jquery.com/jquery.js"></script> -->
	<!-- // <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script> -->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-theme.min.css">
	<style type="text/css">
		/* pushes the page to the full capacity of the viewing area */
		html {height:100%;}
		/*body {height:100%; background-color:#38393D; margin:0; padding:0;}*/
		body {height:100%; background-color:#FFFFFF; margin:0; padding:0;}
		/* prepares the background image to full capacity of the viewing area */
		#bg {position:absolute; top:0; left:0; width:100%; height:100%;}
		#hams {position: relative; top: 0}
		/* places the content ontop of the background image */
		/*#content {position:relative; z-index:1;}*/
	</style>
  <!--[if IE 6]>
  <style type="text/css">
	  /* some css fixes for IE browsers */
	  html {overflow-y:hidden;}
	  body {overflow-y:auto;}
	  #bg {position:absolute; z-index:-1;}
	  #content {position:static;}
  </style>
  <![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="../../assets/js/html5shiv.js"></script>
      <script src="../../assets/js/respond.min.js"></script>
    <![endif]-->

<style type="text/css"> <!--  
	 #sorry-message{
	   visibility: hidden; 
	 }
	 --> 
 </style>    
  </head>
  <body bgcolor="#38393D" >
  <!-- <body background="ttps://sites.google.com/site/astest0000001/test/bg.png?attredirects=0&d=1"> -->
	  <!-- <div id="bg"><img src="https://sites.google.com/site/astest0000001/test/bg.png?attredirects=0&d=1" width="100%" height="100%" alt=""> -->
	  <div id="bg" width="1058px" height="460px">
	  	<img src="https://sites.google.com/site/astest0000001/test/HangshowBg.jpg?attredirects=0&d=1"  alt=""/>
	  	<div id="sorry-message" class="btn-group" style="visibility=hidden">
	  		<button id="textHelp" type="button" class="btn btn-default">Sorry. This page is under construction</button>
<!-- 	  		<button type="button" class="btn btn-default">Middle</button>
	  		<button type="button" class="btn btn-default">Right</button>
-->	  	</div>
	  	<!-- <div class="alert alert-success">...</div> -->
	  	<!-- <div class="alert alert-info">...</div> -->
	  	<!-- <div class="alert alert-warning">...</div> -->
	  	<!-- <div class="alert alert-danger">...</div> -->
	  	  <!-- Button trigger modal -->
	  	  <!-- <a data-toggle="modal" href="#myModal" class="btn btn-primary btn-lg">Launch demo modal</a> -->

	  	  <!-- Modal -->
<!-- 	  	  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	  	  	<div class="modal-dialog">
	  	  		<div class="modal-content">
	  	  			<div class="modal-header">
	  	  				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	  	  				<h4 class="modal-title">Modal title</h4>
	  	  			</div>
	  	  			<div class="modal-body">
	  	  				...
	  	  			</div>
	  	  			<div class="modal-footer">
	  	  				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	  	  				<button type="button" class="btn btn-primary">Save changes</button>
	  	  			</div>
	  	  		</div>
	  	  	</div>
	  	  </div>
	  	  <div class="alert alert-dismissable">
	  	  	<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
	  	  	<strong>Warning!</strong> Best check yo self, you're not looking too good.
	  	  </div> -->
	  	</div>
	  	<script type="text/javascript">
			var SAMPLE_INSERT_URI = "http://localhost:4567/onair/insert?youtube-content-id=1111&title=hangshow-test&description=this-is-hangshow-test&tags=test&owner-id=11111&conference-name=devfest2013&time-start=10:00:00";	 
			var topic = ""; 	
			var youtubeId;
			var userId;
			var tags="test";
			function init() {
				  // When API is ready...
			gapi.hangout.onApiReady.add(
				function(eventObj) {
					var id = gapi.hangout.getLocalParticipantId();
					console.log("id:"+id);
					var feed = gapi.hangout.layout.getDefaultVideoFeed();
					var canvas = gapi.hangout.layout.getVideoCanvas();
					canvas.setVideoFeed(feed);
					canvas.setWidth(491);
					canvas.setPosition(280 , 40);
					console.log("onApiReady");

					topic = gapi.hangout.getTopic();
					userId = gapi.hangout.getParticipantId();
					if(gapi.hangout.onair.isOnAirHangout()){

						youtubeId = gapi.hangout.onair.getYouTubeLiveId();
						$("#sorry-message").html("OnAir Mode!")
						$("#sorry-message").css("visibility","visible");
						$("#sorry-message").click(function(){
							canvas.setVisible(true);
							$.get(SAMPLE_INSERT_URI,function(data,status){
								alert("Data: " + data + "\nStatus: " + status);
							});			  			  
						});

					}
					else{
						$("#sorry-message").css("visibility","visible");
						$("#sorry-message").click(function(){
							$.get(SAMPLE_INSERT_URI,function(){
								alert("Sent");
							})  
							.done(function() {
								alert( "second success" );
							})
							.fail(function() {
								alert( "error" );
							})
							.always(function() {
								alert( "finished" );
							});			  			  
						});
					}

			    });
			}

// Add startup listener immediately.  If you need an
// OAuth 2.0 access token, your startup will be different.
		init();	

	</script>
 	<script src="//code.jquery.com/jquery.js"></script>
	<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>

  </body>
 </html>
